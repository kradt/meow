<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>meow</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(to bottom, #87CEEB, #E0F7FA);
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }
        
        header {
            text-align: center;
            padding: 20px;
            background-color: #FF9800;
            color: white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        h1 {
            font-size: 3rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: bounce 2s infinite;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
        }
        
        .cat-container {
            position: relative;
            width: 100%;
            height: 70vh;
            margin: 20px auto;
            border: 3px dashed #FF9800;
            border-radius: 15px;
            background-color: rgba(255, 255, 255, 0.7);
            overflow: hidden;
        }
        
        #cat {
            position: absolute;
            width: 150px;
            height: 130px;
            cursor: pointer;
            transition: transform 0.2s;
            z-index: 10;
        }
        
        /* Vẽ chú mèo chi tiết bằng CSS */
        .cat-body {
            position: absolute;
            width: 100px;
            height: 60px;
            background: linear-gradient(to bottom, #ffa726, #fb8c00);
            border-radius: 50% 50% 40% 40%;
            top: 50px;
            left: 25px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .cat-head {
            position: absolute;
            width: 70px;
            height: 60px;
            background: linear-gradient(to bottom, #ffa726, #fb8c00);
            border-radius: 50%;
            top: 30px;
            left: 40px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .cat-ear {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-bottom: 20px solid #ffa726;
            z-index: -1;
        }
        
        .cat-ear-left {
            top: 20px;
            left: 35px;
            transform: rotate(-30deg);
        }
        
        .cat-ear-right {
            top: 20px;
            left: 85px;
            transform: rotate(30deg);
        }
        
        .cat-eye {
            position: absolute;
            width: 12px;
            height: 12px;
            background-color: #fff;
            border-radius: 50%;
            top: 45px;
            animation: blink 5s infinite;
        }
        
        .cat-eye-left {
            left: 50px;
        }
        
        .cat-eye-right {
            left: 90px;
        }
        
        .cat-pupil {
            position: absolute;
            width: 6px;
            height: 6px;
            background-color: #000;
            border-radius: 50%;
            top: 3px;
            left: 3px;
            transition: all 0.2s;
        }
        
        .cat-nose {
            position: absolute;
            width: 12px;
            height: 8px;
            background-color: #ff6d6d;
            border-radius: 50%;
            top: 60px;
            left: 69px;
        }
        
        .cat-mouth {
            position: absolute;
            width: 15px;
            height: 8px;
            border-bottom: 2px solid #000;
            border-radius: 0 0 50% 50%;
            top: 68px;
            left: 67px;
        }
        
        .cat-tail {
            position: absolute;
            width: 50px;
            height: 15px;
            background: linear-gradient(to bottom, #ffa726, #fb8c00);
            border-radius: 0 10px 10px 0;
            top: 70px;
            left: 0;
            transform-origin: left center;
            transition: transform 0.3s;
        }
        
        .cat-paw {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #ffa726;
            border-radius: 50%;
            bottom: 0;
        }
        
        .cat-paw-front-left {
            left: 35px;
        }
        
        .cat-paw-front-right {
            left: 95px;
        }
        
        .cat-paw-back-left {
            left: 15px;
        }
        
        .cat-paw-back-right {
            left: 115px;
        }
        
        #cat.tail-wagging .cat-tail {
            animation: tailWag 0.5s infinite alternate;
        }
        
        #cat.purring {
            animation: purr 0.1s infinite alternate;
        }
        
        #cat.jumping {
            animation: jump 0.5s alternate;
        }
        
        .controls {
            margin: 20px 0;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 12px 24px;
            font-size: 1rem;
            background-color: #FF9800;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        button:hover {
            background-color: #F57C00;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }
        
        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .stat-item {
            background-color: white;
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            min-width: 150px;
        }
        
        .toys {
            position: absolute;
            width: 50px;
            height: 50px;
            background-size: contain;
            background-repeat: no-repeat;
            cursor: pointer;
        }
        
        #yarn {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="45" fill="%23E91E63"/><path d="M30 30 Q50 10 70 30 Q90 50 70 70 Q50 90 30 70 Q10 50 30 30Z" fill="white" opacity="0.7"/></svg>');
        }
        
        #fish {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M80 50 Q100 30 90 10 Q70 30 80 50 Q100 70 90 90 Q70 70 80 50Z" fill="%23009688"/><circle cx="85" cy="45" r="5" fill="white"/><circle cx="87" cy="43" r="2" fill="black"/><path d="M70 40 L60 50 L70 60 Z" fill="%23009688"/></svg>');
        }
        
        .message {
            position: absolute;
            background-color: white;
            padding: 10px 15px;
            border-radius: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 100;
        }
        
        .footprints {
            position: absolute;
            width: 30px;
            height: 30px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="30" cy="30" r="20" fill="rgba(0,0,0,0.2)"/><circle cx="70" cy="30" r="15" fill="rgba(0,0,0,0.2)"/><circle cx="30" cy="70" r="15" fill="rgba(0,0,0,0.2)"/><circle cx="70" cy="70" r="20" fill="rgba(0,0,0,0.2)"/></svg>');
            background-size: contain;
            opacity: 0;
            pointer-events: none;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes blink {
            0%, 40%, 80%, 100% { height: 12px; }
            20%, 60% { height: 2px; top: 50px; }
        }
        
        @keyframes tailWag {
            0% { transform: rotate(-20deg); }
            100% { transform: rotate(20deg); }
        }
        
        @keyframes purr {
            0% { transform: translateX(-2px); }
            100% { transform: translateX(2px); }
        }
        
        @keyframes jump {
            0% { bottom: 0; }
            50% { bottom: 100px; }
            100% { bottom: 0; }
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .stats {
                flex-direction: column;
                align-items: center;
            }
            
            .cat-container {
                height: 50vh;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>meow</h1>
        <p>Interact with the mischievous cat!</p>
    </header>
    
    <div class="container">
        <div class="cat-container" id="cat-container">
            <div id="cat">
                <div class="cat-tail"></div>
                <div class="cat-body"></div>
                <div class="cat-head"></div>
                <div class="cat-ear cat-ear-left"></div>
                <div class="cat-ear cat-ear-right"></div>
                <div class="cat-eye cat-eye-left"><div class="cat-pupil"></div></div>
                <div class="cat-eye cat-eye-right"><div class="cat-pupil"></div></div>
                <div class="cat-nose"></div>
                <div class="cat-mouth"></div>
                <div class="cat-paw cat-paw-front-left"></div>
                <div class="cat-paw cat-paw-front-right"></div>
                <div class="cat-paw cat-paw-back-left"></div>
                <div class="cat-paw cat-paw-back-right"></div>
            </div>
            <div class="toys" id="yarn"></div>
            <div class="toys" id="fish"></div>
        </div>
        
        <div class="stats">
            <div class="stat-item">Happiness: <span id="happiness">50</span></div>
            <div class="stat-item">Hunger: <span id="hunger">50</span></div>
            <div class="stat-item">Energy: <span id="energy">50</span></div>
        </div>
        
        <div class="controls">
            <button id="btn-pet">Pet</button>
            <button id="btn-feed">Feed</button>
            <button id="btn-play">Play with Toys</button>
            <button id="btn-meow">Make Meow</button>
            <button id="btn-reset">Reset Cat</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const cat = document.getElementById('cat');
            const catContainer = document.getElementById('cat-container');
            const yarn = document.getElementById('yarn');
            const fish = document.getElementById('fish');
            const happinessEl = document.getElementById('happiness');
            const hungerEl = document.getElementById('hunger');
            const energyEl = document.getElementById('energy');
            const pupils = document.querySelectorAll('.cat-pupil');
            
            let happiness = 50;
            let hunger = 50;
            let energy = 50;
            let catState = 'idle';
            let footprints = [];
            
            // Initialize cat position
            let catX = catContainer.offsetWidth / 2 - 75;
            let catY = catContainer.offsetHeight / 2 - 65;
            updateCatPosition();
            
            // Initialize toys position
            updateToyPosition(yarn);
            updateToyPosition(fish);
            
            // Update stats display
            function updateStats() {
                happinessEl.textContent = happiness;
                hungerEl.textContent = hunger;
                energyEl.textContent = energy;
            }
            
            // Update cat position
            function updateCatPosition() {
                cat.style.left = `${catX}px`;
                cat.style.bottom = `${catY}px`;
            }
            
            // Update toy position
            function updateToyPosition(toy) {
                const maxX = catContainer.offsetWidth - 60;
                const maxY = catContainer.offsetHeight - 60;
                
                const randomX = Math.floor(Math.random() * maxX);
                const randomY = Math.floor(Math.random() * maxY);
                
                toy.style.left = `${randomX}px`;
                toy.style.bottom = `${randomY}px`;
            }
            
            // Update pupils to follow mouse/cursor
            document.addEventListener('mousemove', function(e) {
                const containerRect = catContainer.getBoundingClientRect();
                const catRect = cat.getBoundingClientRect();
                
                const catCenterX = catRect.left + catRect.width / 2;
                const catCenterY = catRect.top + catRect.height / 2;
                
                const angleX = (e.clientX - catCenterX) / window.innerWidth * 20;
                const angleY = (e.clientY - catCenterY) / window.innerHeight * 20;
                
                pupils.forEach(pupil => {
                    pupil.style.transform = `translate(${angleX}px, ${angleY}px)`;
                });
            });
            
            // Show message bubble
            function showMessage(text, x, y) {
                const message = document.createElement('div');
                message.className = 'message';
                message.textContent = text;
                message.style.left = `${x}px`;
                message.style.bottom = `${y + 100}px`;
                
                catContainer.appendChild(message);
                
                // Show message
                setTimeout(() => {
                    message.style.opacity = 1;
                }, 10);
                
                // Hide message after delay
                setTimeout(() => {
                    message.style.opacity = 0;
                    setTimeout(() => {
                        catContainer.removeChild(message);
                    }, 300);
                }, 2000);
            }
            
            // Create footprint
            function createFootprint(x, y) {
                if (Math.random() > 0.5) return; // Only create footprints sometimes
                
                const footprint = document.createElement('div');
                footprint.className = 'footprints';
                footprint.style.left = `${x + 30}px`;
                footprint.style.bottom = `${y}px`;
                footprint.style.opacity = 0.7;
                
                catContainer.appendChild(footprint);
                footprints.push(footprint);
                
                // Fade out footprint
                setTimeout(() => {
                    footprint.style.opacity = 0;
                    setTimeout(() => {
                        if (footprint.parentNode) {
                            catContainer.removeChild(footprint);
                        }
                        footprints = footprints.filter(f => f !== footprint);
                    }, 2000);
                }, 3000);
            }
            
            // Move cat to a random position
            function moveCatRandomly() {
                if (catState !== 'idle') return;
                
                const maxX = catContainer.offsetWidth - 150;
                const maxY = catContainer.offsetHeight - 130;
                
                const newX = Math.floor(Math.random() * maxX);
                const newY = Math.floor(Math.random() * maxY);
                
                // Create footprints along the path
                const steps = 10;
                const stepX = (newX - catX) / steps;
                const stepY = (newY - catY) / steps;
                
                let currentStep = 0;
                const moveInterval = setInterval(() => {
                    if (currentStep >= steps) {
                        clearInterval(moveInterval);
                        return;
                    }
                    
                    catX += stepX;
                    catY += stepY;
                    updateCatPosition();
                    
                    if (currentStep % 2 === 0) {
                        createFootprint(catX, catY);
                    }
                    
                    currentStep++;
                }, 100);
                
                // Update energy
                energy = Math.max(0, energy - 5);
                updateStats();
            }
            
            // Auto move the cat every 5-10 seconds
            setInterval(moveCatRandomly, 5000 + Math.random() * 5000);
            
            // Auto decrease stats over time
            setInterval(() => {
                happiness = Math.max(0, happiness - 2);
                hunger = Math.min(100, hunger + 3);
                energy = Math.max(0, energy - 1);
                updateStats();
                
                // If hunger is too high, cat becomes unhappy
                if (hunger > 80) {
                    happiness = Math.max(0, happiness - 5);
                    updateStats();
                }
                
                // If energy is too low, cat becomes tired
                if (energy < 20) {
                    showMessage("Zzz...", catX, catY);
                }
            }, 5000);
            
            // Pet button
            document.getElementById('btn-pet').addEventListener('click', function() {
                if (catState !== 'idle') return;
                
                catState = 'purring';
                cat.classList.add('purring');
                
                happiness = Math.min(100, happiness + 10);
                updateStats();
                
                showMessage("Purrrrr...", catX, catY);
                
                setTimeout(() => {
                    cat.classList.remove('purring');
                    catState = 'idle';
                }, 2000);
            });
            
            // Feed button
            document.getElementById('btn-feed').addEventListener('click', function() {
                if (catState !== 'idle') return;
                
                hunger = Math.max(0, hunger - 30);
                happiness = Math.min(100, happiness + 5);
                updateStats();
                
                showMessage("Yum! 🐟", catX, catY);
                
                // Make cat jump
                catState = 'jumping';
                cat.classList.add('jumping');
                
                setTimeout(() => {
                    cat.classList.remove('jumping');
                    catState = 'idle';
                }, 1000);
            });
            
            // Play button
            document.getElementById('btn-play').addEventListener('click', function() {
                if (catState !== 'idle') return;
                
                if (energy < 20) {
                    showMessage("Too tired...", catX, catY);
                    return;
                }
                
                catState = 'playing';
                updateToyPosition(yarn);
                updateToyPosition(fish);
                
                happiness = Math.min(100, happiness + 15);
                energy = Math.max(0, energy - 10);
                updateStats();
                
                showMessage("Playtime!", catX, catY);
                
                // Move cat to a toy
                const toys = [yarn, fish];
                const randomToy = toys[Math.floor(Math.random() * toys.length)];
                
                const toyX = parseInt(randomToy.style.left);
                const toyY = parseInt(randomToy.style.bottom);
                
                catX = toyX - 30;
                catY = toyY - 30;
                updateCatPosition();
                
                // Wag tail
                cat.classList.add('tail-wagging');
                
                setTimeout(() => {
                    cat.classList.remove('tail-wagging');
                    catState = 'idle';
                }, 2000);
            });
            
            // Meow button
            document.getElementById('btn-meow').addEventListener('click', function() {
                if (catState !== 'idle') return;
                
                const meows = ["Meow!", "Purr!", "Mrow!", "Hiss!", "Prrt!"];
                const randomMeow = meows[Math.floor(Math.random() * meows.length)];
                
                showMessage(randomMeow, catX, catY);
                
                // Randomly move after meowing
                if (Math.random() > 0.5) {
                    moveCatRandomly();
                }
            });
            
            // Reset button
            document.getElementById('btn-reset').addEventListener('click', function() {
                happiness = 50;
                hunger = 50;
                energy = 50;
                updateStats();
                
                catX = catContainer.offsetWidth / 2 - 75;
                catY = catContainer.offsetHeight / 2 - 65;
                updateCatPosition();
                
                showMessage("I'm refreshed!", catX, catY);
            });
            
            // Drag and drop for cat
            let isDragging = false;
            let dragOffsetX, dragOffsetY;
            
            cat.addEventListener('mousedown', function(e) {
                isDragging = true;
                dragOffsetX = e.clientX - cat.getBoundingClientRect().left;
                dragOffsetY = e.clientY - cat.getBoundingClientRect().top;
                cat.style.cursor = 'grabbing';
            });
            
            document.addEventListener('mousemove', function(e) {
                if (!isDragging) return;
                
                const containerRect = catContainer.getBoundingClientRect();
                
                let newX = e.clientX - containerRect.left - dragOffsetX;
                let newY = containerRect.height - (e.clientY - containerRect.top - dragOffsetY);
                
                // Constrain to container
                newX = Math.max(0, Math.min(catContainer.offsetWidth - 150, newX));
                newY = Math.max(0, Math.min(catContainer.offsetHeight - 130, newY));
                
                catX = newX;
                catY = newY;
                updateCatPosition();
                
                // Create footprints while dragging
                if (Math.random() > 0.7) {
                    createFootprint(catX, catY);
                }
            });
            
            document.addEventListener('mouseup', function() {
                if (isDragging) {
                    isDragging = false;
                    cat.style.cursor = 'grab';
                    
                    // After dragging, update stats
                    energy = Math.max(0, energy - 5);
                    happiness = Math.min(100, happiness + 5);
                    updateStats();
                    
                    showMessage("Whee!", catX, catY);
                }
            });
            
            // Touch events for mobile
            cat.addEventListener('touchstart', function(e) {
                e.preventDefault();
                isDragging = true;
                const touch = e.touches[0];
                dragOffsetX = touch.clientX - cat.getBoundingClientRect().left;
                dragOffsetY = touch.clientY - cat.getBoundingClientRect().top;
            });
            
            document.addEventListener('touchmove', function(e) {
                if (!isDragging) return;
                e.preventDefault();
                
                const touch = e.touches[0];
                const containerRect = catContainer.getBoundingClientRect();
                
                let newX = touch.clientX - containerRect.left - dragOffsetX;
                let newY = containerRect.height - (touch.clientY - containerRect.top - dragOffsetY);
                
                // Constrain to container
                newX = Math.max(0, Math.min(catContainer.offsetWidth - 150, newX));
                newY = Math.max(0, Math.min(catContainer.offsetHeight - 130, newY));
                
                catX = newX;
                catY = newY;
                updateCatPosition();
                
                // Create footprints while dragging
                if (Math.random() > 0.7) {
                    createFootprint(catX, catY);
                }
            });
            
            document.addEventListener('touchend', function() {
                if (isDragging) {
                    isDragging = false;
                    
                    // After dragging, update stats
                    energy = Math.max(0, energy - 5);
                    happiness = Math.min(100, happiness + 5);
                    updateStats();
                    
                    showMessage("Whee!", catX, catY);
                }
            });
        });
    </script>
</body>
</html>